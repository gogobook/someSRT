1
00:00:00,140 --> 00:00:03,740
還記得在第二課裡Katherine用了

2
00:00:03,740 --> 00:00:06,400
異步任務(AsyncTask)接上更新按鈕

3
00:00:06,400 --> 00:00:07,990
來更新數據嗎？

4
00:00:07,990 --> 00:00:10,710
Rato解釋過這為什麼是個餿主意

5
00:00:10,710 --> 00:00:14,690
因為異步任務不受活動生命週期限制

6
00:00:14,690 --> 00:00:18,090
只要異步任務在運行中

7
00:00:18,090 --> 00:00:20,780
虛擬機器就可以保留活動目標

8
00:00:20,780 --> 00:00:24,010
即便安卓已經對活動調用了onDestroy

9
00:00:24,010 --> 00:00:25,983
而且預期它被丟棄

10
00:00:25,983 --> 00:00:27,726
如果你旋轉手機屏幕

11
00:00:27,726 --> 00:00:31,810
會摧毀你的活動並且實例化一個新的

12
00:00:31,810 --> 00:00:38,300
單純的異步任務裝置現在有兩個線程要完成同一個更新

13
00:00:38,300 --> 00:00:43,739
關鍵是 這樣不利於可能會進行很久的後台操作

14
00:00:43,740 --> 00:00:45,550
比如從網絡服務獲取數據

15
00:00:45,550 --> 00:00:48,580
如果你關閉這個程序 異步任務會持續運行

16
00:00:48,580 --> 00:00:51,280
只要處理不斷

17
00:00:51,280 --> 00:00:52,990
但會以低優先級運行

18
00:00:52,990 --> 00:00:55,250
而且如果設備需要更多資源

19
00:00:55,250 --> 00:00:57,240
你的處理會首先被終止

20
00:00:57,240 --> 00:00:59,270
而且還有一個更大的問題

21
00:00:59,270 --> 00:01:04,170
這個程序必須可見 在前台運行 才能實例化任務

22
00:01:04,170 --> 00:01:06,380
因為我們開始了一個任務

23
00:01:06,380 --> 00:01:08,759
在初始程序時更新天氣

24
00:01:08,760 --> 00:01:10,940
如果天氣有較為急速的變化

25
00:01:10,940 --> 00:01:12,950
程序可能會有我們不想看到的反應

26
00:01:12,950 --> 00:01:16,110
所以我們要學習正確的執行更新的方法

27
00:01:16,110 --> 00:01:19,636
我們需要在程序在前台時自動化更新

28
00:01:19,636 --> 00:01:23,447
但更重要的是 我們想要程序在耗電最小的情況下

29
00:01:23,447 --> 00:01:26,038
在後台進行例行更新

30
00:01:26,038 --> 00:01:31,070
這在之後我們介紹天氣推送時會特別重要


